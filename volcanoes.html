<!DOCTYPE html>
<html lang="en">
<head>
	<title></title>
	 <meta charset="utf-8">
</head>
<body>

<script type="text/javascript" src="third-party/three.min.js"></script>
	<script type="text/javascript" src="third-party/Detector.js"></script>
	<script type="text/javascript" src="third-party/Tween.js"></script>
	<script type="text/javascript" src="globe.js"></script>

<div id="container"></div>

<script type="text/javascript">
if(!Detector.webgl){
      Detector.addGetWebGLMessage();
    } 
   else {
// Where to put the globe?
var container = document.getElementById( 'container' );

// Make the globe
var globe = new DAT.Globe( container );

TWEEN.start();

// We're going to ask a file for the JSON data.
var xhr = new XMLHttpRequest();

// Where do we get the data?
xhr.open( 'GET', 'population909500.json', true );

// What do we do when we have it?
xhr.onreadystatechange = function() {

    // If we've received the data
    if ( xhr.readyState === 4 && xhr.status === 200 ) {

        // Parse the JSON
        var data = JSON.parse( xhr.responseText );

        // Tell the globe about your JSON data
        for ( var i = 0; i < data.length; i ++ ) {
            globe.addData( data[i][1], {format: 'magnitude', name: data[i][0]} );
        }

        // Create the geometry
        globe.createPoints();

        // Begin animation
        globe.animate();

    }

};

// Begin request
xhr.send(null);
}

</script>

</body>
</html>